<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width,  initial-scale=1.0"/>
        <link rel="stylesheet" href="./CSS/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="./Bootstrap-CSS/bootstrap.css">
        <meta name="author" content="Do The Sang">
        <link rel="shortcut icon" href="./MEDIA/shoe.png" type="image/x-icon">
        <title>Group-4 Shoes Shop</title>
    </head>
    <body>
        <header>
            <div class="menu">
                <div class="bar"></div>
            </div>
            <div class="overlay"></div>
            <a href="index.html" class="brand none-display"><img src="./MEDIA/shoe.png" alt="Our LOGO" width="70px"></a>
            <nav id="navbar">
                <a href="index.html" class="brand"><img src="./MEDIA/shoe.png" alt="" width="70px"></a>
                <ul>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="men.html" title="Men Products" data-text="Men">Men</a>
                    </li>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="women.html" title="Women Products" data-text="Women">Women</a>
                    </li>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="kids.html" title="Kids Products" data-text="Kids">Kids</a>
                    </li>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="members.html" title="Menbers and Our Project Page" data-text="About Us">About Us</a>
                    </li>
                    <li class="my-nav-item">
                        <a href="cart.html" title="Your Bag"><i class="fa bi bi-bag-fill nav-icon fs-3"></i></a></i>
                    </li>
                    <li class="my-nav-item">
                        <a href="login.html" title="Login"><i class="fa bi bi-person-fill nav-icon fs-3""></i></a>
                    </li>
                </ul>
            </nav>
        </header>

        <section id="sect-cart">
            <h1 class="fs-1">Bag</h1>
            <div class="bag-container fs-2">
                <div class="bag">

                </div>
                <div class="summary">
                    <div>Total</div>
                    <div class="total"></div>
                </div>
            </div>
        </section>
        <section id="form">
            <form action="" class="cart-form">
                <label for="name-address">
                    <h1>Enter your name and address:</h1>
                    <input type="text" name="" id="" placeholder="First name" class="fs-2" required>
                    <input type="text" name="" id="" placeholder="Last name" class="fs-2" required>
                    <input type="text" name="" id="" class="fs-2" placeholder="Addres Line 1" required>
                    <input type="text" name="" id="" class="fs-2" placeholder="Addres Line 2">
                    <input type="text" name="" id="" class="fs-2" placeholder="Passcode" required>
                    <input type="text" name="" id="" class="fs-2" placeholder="City" required>
                    <select _ngcontent-cda-c71="" class="fs-2 pv-4 pl-4 pr-8 ng-dirty ng-valid ng-touched" id="region" aria-label="Province/Municipality" required=""><option _ngcontent-cda-c71="" value="" disabled="" selected="" hidden="">Province/Municipality</option><option _ngcontent-cda-c71="" value="1: Object">An Giang</option><option _ngcontent-cda-c71="" value="2: Object">Ba Ria-Vung Tau</option><option _ngcontent-cda-c71="" value="3: Object">Bac Giang</option><option _ngcontent-cda-c71="" value="4: Object">Bac Kan</option><option _ngcontent-cda-c71="" value="5: Object">Bac Lieu</option><option _ngcontent-cda-c71="" value="6: Object">Bac Ninh</option><option _ngcontent-cda-c71="" value="7: Object">Ben Tre</option><option _ngcontent-cda-c71="" value="8: Object">Binh Dinh</option><option _ngcontent-cda-c71="" value="9: Object">Binh Duong</option><option _ngcontent-cda-c71="" value="10: Object">Binh Phuoc</option><option _ngcontent-cda-c71="" value="11: Object">Binh Thuan</option><option _ngcontent-cda-c71="" value="12: Object">Ca Mau</option><option _ngcontent-cda-c71="" value="13: Object">Can Tho</option><option _ngcontent-cda-c71="" value="14: Object">Cao Bang</option><option _ngcontent-cda-c71="" value="15: Object">Da Nang</option><option _ngcontent-cda-c71="" value="16: Object">Dac Lac</option><option _ngcontent-cda-c71="" value="17: Object">Dak Nong</option><option _ngcontent-cda-c71="" value="18: Object">Dien Bien</option><option _ngcontent-cda-c71="" value="19: Object">Dong Nai</option><option _ngcontent-cda-c71="" value="20: Object">Dong Thap</option><option _ngcontent-cda-c71="" value="21: Object">Gia Lai</option><option _ngcontent-cda-c71="" value="22: Object">Ha Giang</option><option _ngcontent-cda-c71="" value="23: Object">Ha Nam</option><option _ngcontent-cda-c71="" value="24: Object">Ha Noi, thu do</option><option _ngcontent-cda-c71="" value="25: Object">Ha Tinh</option><option _ngcontent-cda-c71="" value="26: Object">Hai Duong</option><option _ngcontent-cda-c71="" value="27: Object">Thanh Pho Hai Phong</option><option _ngcontent-cda-c71="" value="28: Object">Hau Giang</option><option _ngcontent-cda-c71="" value="29: Object">Hoa Binh</option><option _ngcontent-cda-c71="" value="30: Object">Thanh Pho Ho Chi Minh</option><option _ngcontent-cda-c71="" value="31: Object">Hung yen</option><option _ngcontent-cda-c71="" value="32: Object">Khanh Hoa</option><option _ngcontent-cda-c71="" value="33: Object">Kien Giang</option><option _ngcontent-cda-c71="" value="34: Object">Kon Tum</option><option _ngcontent-cda-c71="" value="35: Object">Lai Chau</option><option _ngcontent-cda-c71="" value="36: Object">Lam Dong</option><option _ngcontent-cda-c71="" value="37: Object">Lang Son</option><option _ngcontent-cda-c71="" value="38: Object">Lao Cai</option><option _ngcontent-cda-c71="" value="39: Object">Long An</option><option _ngcontent-cda-c71="" value="40: Object">Nam Dinh</option><option _ngcontent-cda-c71="" value="41: Object">Nghe An</option><option _ngcontent-cda-c71="" value="42: Object">Ninh Binh</option><option _ngcontent-cda-c71="" value="43: Object">Ninh Thuan</option><option _ngcontent-cda-c71="" value="44: Object">Phu Tho</option><option _ngcontent-cda-c71="" value="45: Object">Phu yen</option><option _ngcontent-cda-c71="" value="46: Object">Quang Binh</option><option _ngcontent-cda-c71="" value="47: Object">Quang Nam</option><option _ngcontent-cda-c71="" value="48: Object">Quang Ngai</option><option _ngcontent-cda-c71="" value="49: Object">Quang Ninh</option><option _ngcontent-cda-c71="" value="50: Object">Quang Tri</option><option _ngcontent-cda-c71="" value="51: Object">Soc Trang</option><option _ngcontent-cda-c71="" value="52: Object">Son La</option><option _ngcontent-cda-c71="" value="53: Object">Tay Ninh</option><option _ngcontent-cda-c71="" value="54: Object">Thai Binh</option><option _ngcontent-cda-c71="" value="55: Object">Thai Nguyen</option><option _ngcontent-cda-c71="" value="56: Object">Thanh Hoa</option><option _ngcontent-cda-c71="" value="57: Object">Thua Thien-Hue</option><option _ngcontent-cda-c71="" value="58: Object">Tien Giang</option><option _ngcontent-cda-c71="" value="59: Object">Tra Vinh</option><option _ngcontent-cda-c71="" value="60: Object">Tuyen Quang</option><option _ngcontent-cda-c71="" value="61: Object">Vinh Long</option><option _ngcontent-cda-c71="" value="62: Object">Vinh Phuc</option><option _ngcontent-cda-c71="" value="63: Object">Yen Bai</option><!----></select>
                </label>
                <label for="payment" class="fs-2">
                    <h1>Enter your payment details:</h1>
                    <input type="text" placeholder="Name on card" required>
                    <input type="text" placeholder="Card number"required>
                    <input type=" text" placeholder="MM/YY"required>
                    <input type=" text" placeholder="CVV"required>
                    <button type="submit" class="fs-2 shop" onclick="pay()">Order</button>
                </label>
            </form>
        </section>

        <footer class="w-100">
            <div class="row">
                <div class="col-md-4 col-sm-6 my-block">
                    Product
                    <ul>
                        <li><a href="men.html">Men's</a></li>
                        <li><a href="women.html">Women's</a></li>
                        <li><a href="kids.html">Kid's</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-sm-6 my-block">
                    Useful links
                    <ul>
                        <li><a href="members.html">About Us</a></li>
                        <li><a href="cart.html">Cart</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-sm-12 my-block">
                    Contact
                    <ul>
                        <li class="flex-info"><i class="bi bi-house"></i><a href="https://hufi.edu.vn/">140 Le Trong Tan St.</a></li>
                        <li class="flex-info"><i class="bi bi-envelope"></i><a href="mailto:2001203004@hufi.edu.vn"></i>2001203004@hufi.edu.vn</a></li>
                        <li class="flex-info"><i class="bi bi-telephone"></i><a href="tel:0585878329">0585878329</a></li>
                    </ul>
                </div>
            </div>
            <div class="container-fluid notes">
                <p>© 2022 Group 4.</p>
                <p><i class="bi bi-github"></i><a href="https://github.com/Sang0920/Responsive-Web-Design">Source code</a></p>
            </div>
        </footer>
        <script src="./JS/app.js"></script>
        <script src="./JS/database.js"></script>
        <script>
            /*
            function addItemToCart(id){
                for(var i in cart){
                    if(cart[i].id === id){
                        cart[i].count ++;
                        return;
                    }
                }
                var item = new Item(id, db[id].name, db[id].img1, db[id].money, 1);
                cart.push(item)
            }
            */
           
            setCount()
            loadInfo()

            function setCount(){
                LoadCart()
                for(var i in Cart){
                    Cart[i].count = 1;
                }
                SaveCart()
            }

           function loadInfo(){
                LoadCart()
                //console.log(Cart)
                let bag = document.querySelector('.bag')
                let len = Cart.length
                let text = "<ul>"
                for(let i = 0; i<len; i++){
                    text += '<li class="myLi">'
                        + '<img class="cart-img">'
                        + "<div>" + Cart[i].name + "</div>"
                        + '<div class="price">' + Cart[i].price +'</div>'
                        + '<div class="count">' + Cart[i].count +'</div>'
                        + '<p class="none-display id">' + Cart[i].id + '</p>'
                        + '<button class="fs-2" onclick="removeCount(this)">-</button>'
                        + '<button class="fs-2" onclick="addCount(this)">+</button>'
                        + '<button class="fs-2" onclick="deleteItemFromCart(this)">X</button>'
                    + "</li>";
                    bag.innerHTML = text
                    //let li = bag.querySelector('.myLi')
                    //li.querySelector('.cart-img').src = Cart[i].img1
                    //bag.innerHTML = ""
                    //bag.innerHTML += li
                }
                text += "</ul>"
                bag.innerHTML = text

                let summary = document.querySelector('.summary')
                summary.querySelector('.total').innerHTML = totalCart() + "<span>₫</span>"
           }
           function addCount(elmt){
                let parent = elmt.parentNode;
                let id = parent.querySelector('.id').innerHTML;
                LoadCart()
                for(let i = 0; i<Cart.length; i++){              
                    if(Cart[i].id == id) {
                        Cart[i].count ++;
                    }
                }
                SaveCart()
                loadInfo()
           }
            function removeCount(elmt){
                let parent = elmt.parentNode;
                let id = parent.querySelector('.id').innerHTML;
                LoadCart()
                for(let i = 0; i<Cart.length; i++){              
                    if(Cart[i].id == id) {
                        if(Cart[i].count > 1){
                            Cart[i].count--;
                            break
                        }
                    }
                }
                SaveCart()
                loadInfo()
            }
            function deleteItemFromCart(elmt){
                let parent = elmt.parentNode;
                let id = parent.querySelector('.id').innerHTML;
                LoadCart()
                for(let i = 0; i<Cart.length; i++){
                    if(Cart[i].id == id){
                        Cart.splice(i, 1);
                        break;
                    }
                }
                console.log(id)
                SaveCart()
                loadInfo()
            }

            function clearCart(){cart=[]}
            function countCart(){
                var total = 0
                for(var i in cart){
                    total += cart[i].count;
                }
                return total;
            }
            function totalCart(){
                var total = 0
                LoadCart()
                for(var i in Cart){
                    total += Cart[i].money * Cart[i].count
                }
                console.log(Cart)
                return total
            }
        </script>
        <script src="./Bootstrap-JS/bootstrap.bundle.js"></script>
    </body>
</html>
