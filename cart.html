<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width,  initial-scale=1.0"/>
        <link rel="stylesheet" href="./CSS/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="./Bootstrap-CSS/bootstrap.css">
        <meta name="author" content="Do The Sang">
        <link rel="shortcut icon" href="./MEDIA/shoe.png" type="image/x-icon">
        <title>Group-4 Shoes Shop</title>
    </head>
    <body>
        <header>
            <div class="menu">
                <div class="bar"></div>
            </div>
            <div class="overlay"></div>
            <a href="index.html" class="brand none-display"><img src="./MEDIA/shoe.png" alt="Our LOGO" width="70px"></a>
            <nav id="navbar">
                <a href="index.html" class="brand"><img src="./MEDIA/shoe.png" alt="" width="70px"></a>
                <ul>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="men.html" title="Men Products" data-text="Men">Men</a>
                    </li>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="women.html" title="Women Products" data-text="Women">Women</a>
                    </li>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="kids.html" title="Kids Products" data-text="Kids">Kids</a>
                    </li>
                    <li class="my-nav-item">
                        <a class="my-nav-link" href="members.html" title="Menbers and Our Project Page" data-text="About Us">About Us</a>
                    </li>
                    <li class="my-nav-item">
                        <a href="cart.html" title="Your Bag"><i class="fa bi bi-bag-fill nav-icon fs-3"></i></a></i>
                    </li>
                    <li class="my-nav-item">
                        <a href="login.html" title="Login"><i class="fa bi bi-person-fill nav-icon fs-3""></i></a>
                    </li>
                </ul>
            </nav>
        </header>

        <section id="sect-cart">
            <h1 class="fs-1">Bag</h1>
            <div class="bag-container fs-2">
                <div class="bag">

                </div>
                <div class="summary">
                    <div>Total</div>
                    <div class="total"></div>
                </div>
            </div>
        </section>

        <footer class="w-100">
            <div class="row">
                <div class="col-md-4 col-sm-6 my-block">
                    Product
                    <ul>
                        <li><a href="men.html">Men's</a></li>
                        <li><a href="women.html">Women's</a></li>
                        <li><a href="kids.html">Kid's</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-sm-6 my-block">
                    Useful links
                    <ul>
                        <li><a href="members.html">About Us</a></li>
                        <li><a href="cart.html">Cart</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-sm-12 my-block">
                    Contact
                    <ul>
                        <li class="flex-info"><i class="bi bi-house"></i><a href="https://hufi.edu.vn/">140 Le Trong Tan St.</a></li>
                        <li class="flex-info"><i class="bi bi-envelope"></i><a href="mailto:2001203004@hufi.edu.vn"></i>2001203004@hufi.edu.vn</a></li>
                        <li class="flex-info"><i class="bi bi-telephone"></i><a href="tel:0585878329">0585878329</a></li>
                    </ul>
                </div>
            </div>
            <div class="container-fluid notes">
                <p>© 2022 Group 4.</p>
                <p><i class="bi bi-github"></i><a href="https://github.com/Sang0920/Responsive-Web-Design">Source code</a></p>
            </div>
        </footer>
        <script src="./JS/app.js"></script>
        <script src="./JS/database.js"></script>
        <script>
            /*
            function addItemToCart(id){
                for(var i in cart){
                    if(cart[i].id === id){
                        cart[i].count ++;
                        return;
                    }
                }
                var item = new Item(id, db[id].name, db[id].img1, db[id].money, 1);
                cart.push(item)
            }
            */
           
            setCount()
            loadInfo()

            function setCount(){
                LoadCart()
                for(var i in Cart){
                    Cart[i].count = 1;
                }
                SaveCart()
            }

           function loadInfo(){
                LoadCart()
                //console.log(Cart)
                let bag = document.querySelector('.bag')
                let len = Cart.length
                let text = "<ul>"
                for(let i = 0; i<len; i++){
                    text += '<li class="myLi">'
                        + '<img class="cart-img">'
                        + "<div>" + Cart[i].name + "</div>"
                        + '<div class="price">' + Cart[i].price +'</div>'
                    + "</li>";
                    bag.innerHTML = text
                    let li = bag.querySelector('.myLi')
                    li.querySelector('.cart-img').src = Cart[i].img1
                    bag.innerHTML = ""
                    bag.innerHTML += li
                }
                text += "</ul>"
                bag.innerHTML = text

                let summary = document.querySelector('.summary')
                summary.querySelector('.total').innerHTML = totalCart() + "<span>₫</span>"
           }

            function removeItemFromCart(id){
                for(var i in cart){
                    if(cart[i].id === id){
                        cart[i].count --;
                        if(cart[i].count === 0){
                            cart.splice(i, 1);
                        }
                        break;
                    }
                }
            }
            function deleteItemFromCart(id){
                for(var i in cart){
                    if(cart[i].id === id){
                        cart.splice(i, 1);
                        break;
                    }
                }
            }
            function clearCart(){cart=[]}
            function countCart(){
                var total = 0
                for(var i in cart){
                    total += cart[i].count;
                }
                return total;
            }
            function totalCart(){
                var total = 0
                LoadCart()
                for(var i in Cart){
                    total += Cart[i].money * Cart[i].count
                }
                console.log(Cart)
                return total
            }
        </script>
        <script src="./Bootstrap-JS/bootstrap.bundle.js"></script>
    </body>
</html>
